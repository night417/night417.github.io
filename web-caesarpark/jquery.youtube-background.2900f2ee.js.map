{"version":3,"sources":["js/youtube-video-fullscreen-background/jquery.youtube-background.js"],"names":["tag","document","createElement","src","firstScriptTag","getElementsByTagName","YoutubeBackground","elem","params","id","uid","is_mobile","isMobile","element","ytid","player","buttons","state","play","mute","defaults","__init__","parseProperties","resolution_mod","parseResolutionString","resolution","playing","autoplay","muted","buildHTML","injectIFrame","generateActionButton","name","className","innerHtml","initialState","stateClassName","condition_parameter","stateChildClassNames","actions","ActivityMonitor","on_activity","on_inactivity","activity_timeout","inactivity_timeout","events","timer","timeout","activity_timer","last_activity","resetTimer","clearTimeout","self","setTimeout","Date","getTime","logActivity","onActivity","i","length","addEventListener","VideoBackgrounds","selector","elements","querySelectorAll","index","re","YOUTUBE","link","getAttribute","getYTID","generateUID","yb","initYTPlayers","hasOwnProperty","activity_monitor","playVideos","pauseVideos","parentNode","insertBefore","window","d0","hasClass","classList","contains","RegExp","test","addClass","add","removeClass","remove","replace","toogleClass","prototype","initYTPlayer","YT","Player","event","onVideoPlayerReady","onVideoStateChange","target","playVideo","data","loop","iframe","style","opacity","k","pause","setAttribute","location","origin","top","left","transform","position","appendChild","removeChild","onResize","h","offsetHeight","offset","w","offsetWidth","res","width","height","parent","wrapper","wrapper_styles","property","mobile","controls","right","controls_element","btn_obj","button_properties","firstChild","pauseVideo","unmute","unMute","obj","btn","innerHTML","e","pts","split","parseInt","isNaN","a","navigator","userAgent","vendor","opera","substr","error","message","value","console","match","lastIndex","pref","getRandomIntInclusive","min","max","Math","ceil","floor","random","callback","onYouTubeIframeAPIReady","loaded","$","fn","youtube_background","$this","jQuery"],"mappings":"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","file":"jquery.youtube-background.2900f2ee.js","sourceRoot":"..\\src","sourcesContent":["/* jquery.youtube-background v1.0.7 | Nikola Stamatovic <@stamat> | MIT */\n\nvar tag = document.createElement('script');\ntag.src = \"https://www.youtube.com/player_api\";\nvar firstScriptTag = document.getElementsByTagName('script')[0];\nfirstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n\n\n//native addClass, removeClass, hasClass and toggleClass\nif (!window.hasOwnProperty('d0')) {\n\twindow.d0 = {};\n\n\td0.hasClass = function(element, className) {\n\t\tif (element.classList) {\n\t\t\treturn element.classList.contains(className);\n\t\t}\n\t    return new RegExp('\\\\b'+ className+'\\\\b').test(element.className);\n\t};\n\n\td0.addClass = function(element, className) {\n\t    if (element.classList) {\n\t\t\telement.classList.add(className);\n\t\t\treturn;\n\t\t}\n\n\t\tif (!d0.hasClass(element, className)) {\n\t\t\telement.className += ' ' + className;\n\t\t}\n\t};\n\n\td0.removeClass = function(element, className) {\n\t    if (element.classList) {\n\t\t\telement.classList.remove(className);\n\t\t\treturn;\n\t\t}\n\n\t\telement.className = element.className.replace(new RegExp('\\\\b'+ className+'\\\\b', 'g'), '');\n\t};\n\n\td0.toogleClass = function(element, className) {\n\t    if (d0.hasClass(element, className)) {\n\t\t\td0.removeClass(element, className);\n\t\t} else {\n\t\t\td0.addClass(element, className);\n\t\t}\n\t};\n}\n\nfunction YoutubeBackground(elem, params, id, uid) {\n\tthis.is_mobile = this.isMobile();\n\n\tthis.element = elem;\n\tthis.ytid = id;\n\tthis.uid = uid;\n\tthis.player = null;\n\tthis.buttons = {};\n\n\tthis.state = {};\n\tthis.state.play = false;\n\tthis.state.mute = false;\n\n\tthis.params = {};\n\n\tthis.defaults = {\n\t\t'pause': false, //deprecated\n\t\t'play-button': false,\n\t\t'mute-button': false,\n\t\t'autoplay': true,\n\t\t'muted': true,\n\t\t'loop': true,\n\t\t'mobile': false,\n\t\t'load-background': true,\n\t\t'resolution': '16:9',\n\t\t'offset': 200\n\t};\n\n\tthis.__init__ = function () {\n\t\tif (!this.ytid) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.parseProperties(params);\n\t\tthis.params.resolution_mod = this.parseResolutionString(this.params.resolution);\n\t\tthis.state.playing = this.params.autoplay;\n\t\tthis.state.muted = this.params.muted;\n\n\t\tthis.buildHTML();\n\t\tthis.injectIFrame();\n\n\n\t\tif (this.params['play-button']) {\n\t\t\tthis.generateActionButton({\n\t\t\t\tname: 'play',\n\t\t\t\tclassName: 'play-toggle',\n\t\t\t\tinnerHtml: '<i class=\"fa\"></i>',\n\t\t\t\tinitialState: false,\n\t\t\t\tstateClassName: 'paused',\n\t\t\t\tcondition_parameter: 'autoplay',\n\t\t\t\tstateChildClassNames: ['fa-pause-circle', 'fa-play-circle'],\n\t\t\t\tactions: ['play', 'pause']\n\t\t\t});\n\t\t}\n\n\t\tif (this.params['mute-button']) {\n\t\t\tthis.generateActionButton({\n\t\t\t\tname: 'mute',\n\t\t\t\tclassName: 'mute-toggle',\n\t\t\t\tinnerHtml: '<i class=\"fa\"></i>',\n\t\t\t\tinitialState: true,\n\t\t\t\tstateClassName: 'muted',\n\t\t\t\tcondition_parameter: 'muted',\n\t\t\t\tstateChildClassNames: ['fa-volume-up', 'fa-volume-mute'],\n\t\t\t\tactions: ['unmute', 'mute']\n\t\t\t});\n\t\t}\n\t}\n\n\tthis.__init__();\n}\n\nYoutubeBackground.prototype.initYTPlayer = function () {\n\tvar self = this;\n\n\tif (window.hasOwnProperty('YT')) {\n\t\tthis.player = new YT.Player(this.uid, {\n\t\t\tevents: {\n\t\t\t\t'onReady': function(event) {\n\t\t\t\t\tself.onVideoPlayerReady(event);\n\t\t\t\t},\n\t\t\t\t'onStateChange': function(event) {\n\t\t\t\t\tself.onVideoStateChange(event);\n\t\t\t\t},\n\t\t\t\t'onError' : function(event) {\n\t\t\t\t\t//console.error('player_api', event);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n};\n\nYoutubeBackground.prototype.onVideoPlayerReady = function (event) {\n\tif (this.params.autoplay) {\n\t\tevent.target.playVideo();\n\t}\n};\n\nYoutubeBackground.prototype.onVideoStateChange = function (event) {\n\tif (event.data === 0 && this.params.loop) {\n\t\tevent.target.playVideo();\n\t}\n\n\tif (event.data === -1 && this.params.autoplay) {\n\t\tevent.target.playVideo();\n\t}\n\n\tif (event.data === 1) {\n\t\tthis.iframe.style.opacity = 1;\n\t}\n};\n\nYoutubeBackground.prototype.parseProperties = function (params) {\n\tif (!params) {\n\t\tthis.params = this.defaults;\n\t} else {\n\t\t//load in defaults\n\t\tfor (var k in this.defaults) {\n\t\t\tif (!this.params.hasOwnProperty(k)) {\n\t\t\t\tthis.params[k] = this.defaults[k];\n\t\t\t}\n\t\t}\n\t}\n\n\t// load params from data attributes\n\tfor (var k in this.params) {\n\t\tvar data = this.element.getAttribute('data-ytbg-'+k);\n\n\t\tif (data !== undefined && data !== null) {\n\t\t\tswitch (data) {\n\t\t\t\tcase data === 'false':\n\t\t\t\t\tdata = false;\n\t\t\t\t\tbreak;\n\t\t\t\tcase data === 'true':\n\t\t\t\t\tdata = true;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tthis.params[k] = data;\n\t\t}\n\t}\n\n\t//pause deprecated\n\tif (this.params.pause) {\n\t\tthis.params['play-button'] = this.params.pause;\n\t}\n};\n\nYoutubeBackground.prototype.injectIFrame = function () {\n\tthis.iframe = document.createElement('iframe');\n\tthis.iframe.setAttribute('frameborder', 0);\n\tthis.iframe.setAttribute('allow', ['autoplay; mute']);\n\tvar src = 'https://www.youtube.com/embed/'+this.ytid+'?enablejsapi=1&disablekb=1&controls=0&rel=0&iv_load_policy=3&cc_load_policy=0&playsinline=1&showinfo=0&modestbranding=1&fs=0&origin='+window.location.origin;\n\n\tif (this.params.muted) {\n\t\tsrc += '&mute=1';\n\t}\n\n\tif (this.params.autoplay) {\n\t\tsrc += '&autoplay=1';\n\t}\n\n\tif (this.params.loop) {\n\t\tsrc += '&loop=1';\n\t}\n\n\tthis.iframe.src = src;\n\n\tif (this.uid) {\n\t\tthis.iframe.id = this.uid;\n\t}\n\n\tthis.iframe.style.top = '50%';\n\tthis.iframe.style.left = '50%';\n\tthis.iframe.style.transform = 'translateX(-50%) translateY(-50%)';\n\tthis.iframe.style.position = 'absolute';\n\tthis.iframe.style.opacity = 0;\n\n\tthis.element.parentNode.appendChild(this.iframe);\n\tthis.iframe.parentNode.removeChild(this.element);\n\n\tvar self = this;\n\n\tfunction onResize() {\n\t\tvar h = self.iframe.parentNode.offsetHeight + self.params.offset; // since showinfo is deprecated and ignored after September 25, 2018. we add +200 to hide it in the overflow\n\t\tvar w = self.iframe.parentNode.offsetWidth + self.params.offset;\n\t\tvar res = self.params.resolution_mod;\n\n\t\tif (res > w/h) {\n\t\t\tself.iframe.style.width = h*res + 'px';\n\t\t\tself.iframe.style.height = h + 'px';\n\t\t} else {\n\t\t\tself.iframe.style.width = w + 'px';\n\t\t\tself.iframe.style.height = w/res + 'px';\n\t\t}\n\t}\n\n\twindow.addEventListener('resize', onResize);\n\tonResize();\n};\n\nYoutubeBackground.prototype.buildHTML = function () {\n\tvar parent = this.element.parentNode;\n\t// wrap\n\tvar wrapper = document.createElement('div');\n\twrapper.className = 'youtube-background';\n\tparent.insertBefore(wrapper, this.element);\n\twrapper.appendChild(this.element);\n\tvar id = this.element.id;\n\tthis.element.id = '';\n\twrapper.id = id;\n\n\t//set css rules\n\tvar wrapper_styles = {\n\t\t\"height\" : \"100%\",\n\t\t\"width\" : \"100%\",\n\t\t\"z-index\": \"0\",\n\t\t\"position\": \"absolute\",\n\t\t\"overflow\": \"hidden\",\n\t\t\"top\": 0, // added by @insad\n\t\t\"left\": 0,\n\t\t\"bottom\": 0,\n\t\t\"right\": 0\n\t};\n\n\tif (!this.params['mute-button']) {\n\t\twrapper_styles[\"pointer-events\"] = \"none\" // avoid right mouse click popup menu\n\t}\n\n\tif (this.params['load-background']) {\n\t\twrapper_styles['background-image'] = 'url(https://img.youtube.com/vi/'+this.ytid+'/maxresdefault.jpg)';\n\t\twrapper_styles['background-size'] = 'cover';\n\t\twrapper_styles['background-repeat'] = 'no-repeat';\n\t\twrapper_styles['background-position'] = 'center';\n\t}\n\n\tfor (var property in wrapper_styles) {\n\t\twrapper.style[property] = wrapper_styles[property];\n\t}\n\n\twrapper.parentNode.style.position = 'relative';\n\n\tif (this.is_mobile && !this.params.mobile) {\n\t\treturn wrapper;\n\t}\n\n\t// set play/mute controls wrap\n\tif (this.params['play-button'] || this.params['mute-button']) {\n\t\tvar controls = document.createElement('div');\n\t\tcontrols.className = 'video-background-controls';\n\n\t\tcontrols.style.position = 'absolute';\n\t\tcontrols.style.top = '10px';\n\t\tcontrols.style.right = '10px';\n\t\tcontrols.style['z-index'] = 2;\n\n\t\tthis.controls_element = controls;\n\t\twrapper.parentNode.appendChild(controls);\n\t}\n\n\treturn wrapper;\n};\n\nYoutubeBackground.prototype.play = function () {\n\tif (this.buttons.hasOwnProperty('play')) {\n\t\tvar btn_obj = this.buttons.play;\n\t\td0.removeClass(btn_obj.element, btn_obj.button_properties.stateClassName);\n\t\td0.addClass(btn_obj.element.firstChild, btn_obj.button_properties.stateChildClassNames[0])\n\t\td0.removeClass(btn_obj.element.firstChild, btn_obj.button_properties.stateChildClassNames[1]);\n\t}\n\n\tif (this.player) {\n\t\tthis.player.playVideo();\n\t}\n}\n\nYoutubeBackground.prototype.pause = function () {\n\tif (this.buttons.hasOwnProperty('play')) {\n\t\tvar btn_obj = this.buttons.play;\n\t\td0.addClass(btn_obj.element, btn_obj.button_properties.stateClassName);\n\t\td0.removeClass(btn_obj.element.firstChild, btn_obj.button_properties.stateChildClassNames[0])\n\t\td0.addClass(btn_obj.element.firstChild, btn_obj.button_properties.stateChildClassNames[1]);\n\t}\n\n\tif (this.player) {\n\t\tthis.player.pauseVideo();\n\t}\n}\n\nYoutubeBackground.prototype.unmute = function () {\n\tif (this.buttons.hasOwnProperty('mute')) {\n\t\tvar btn_obj = this.buttons.mute;\n\t\td0.removeClass(btn_obj.element, btn_obj.button_properties.stateClassName);\n\t\td0.addClass(btn_obj.element.firstChild, btn_obj.button_properties.stateChildClassNames[0])\n\t\td0.removeClass(btn_obj.element.firstChild, btn_obj.button_properties.stateChildClassNames[1]);\n\t}\n\n\tif (this.player) {\n\t\tthis.player.unMute();\n\t}\n}\n\nYoutubeBackground.prototype.mute = function () {\n\tif (this.buttons.hasOwnProperty('mute')) {\n\t\tvar btn_obj = this.buttons.mute;\n\t\td0.addClass(btn_obj.element, btn_obj.button_properties.stateClassName);\n\t\td0.removeClass(btn_obj.element.firstChild, btn_obj.button_properties.stateChildClassNames[0])\n\t\td0.addClass(btn_obj.element.firstChild, btn_obj.button_properties.stateChildClassNames[1]);\n\t}\n\n\tif (this.player) {\n\t\tthis.player.mute();\n\t}\n}\n\n//TODO: refactor states to be equal for all buttons\nYoutubeBackground.prototype.generateActionButton = function (obj) {\n\tvar btn = document.createElement('button');\n\tbtn.className = obj.className;\n\tbtn.innerHTML = obj.innerHtml;\n\td0.addClass(btn.firstChild, obj.stateChildClassNames[0]);\n\n\tif (this.params[obj.condition_parameter] == obj.initialState) {\n\t\td0.addClass(btn, obj.stateClassName);\n\t\td0.removeClass(btn.firstChild, obj.stateChildClassNames[0]);\n\t\td0.addClass(btn.firstChild, obj.stateChildClassNames[1]);\n\t}\n\n\tvar self = this;\n\tbtn.addEventListener('click', function(e) {\n\t\tif (d0.hasClass(this, obj.stateClassName)) {\n\t\t\tself.state[obj.name] = false;\n\t\t\tself[obj.actions[0]]();\n\t\t} else {\n\t\t\tself.state[obj.name] = true;\n\t\t\tself[obj.actions[1]]();\n\t\t}\n\t});\n\n\tthis.buttons[obj.name] = {\n\t\telement: btn,\n\t\tbutton_properties: obj\n\t};\n\n\tthis.controls_element.appendChild(btn);\n};\n\n\nYoutubeBackground.prototype.parseResolutionString = function (res) {\n\tvar pts = res.split(/\\s?:\\s?/i);\n\tif (pts.length < 2) {\n\t\treturn 16/9;\n\t}\n\n\tvar w = parseInt(pts[0], 10);\n\tvar h = parseInt(pts[1], 10);\n\n\tif (isNaN(w) || isNaN(h)) {\n\t\treturn 16/9;\n\t}\n\n\treturn w/h;\n};\n\nYoutubeBackground.prototype.isMobile = function (event) {\n\tvar is_mobile = false;\n\t(function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) is_mobile = true;})(navigator.userAgent||navigator.vendor||window.opera);\n\n\treturn is_mobile;\n};\n\nYoutubeBackground.prototype.error = function (message, value) {\n\tif (window.hasOwnProperty('console')\n\t\t&& window.console.hasOwnProperty('error')) {\n\t\tconsole.error(message, value);\n\t}\n};\n\nfunction ActivityMonitor(on_activity, on_inactivity, activity_timeout, inactivity_timeout, events) {\n\tthis.timer = null;\n\tthis.timeout = inactivity_timeout || 10000;\n\tthis.activity_timer = null; //for event throttling\n\tthis.activity_timeout = activity_timeout || 1000;\n\tthis.last_activity = null;\n\n\tthis.resetTimer = function() {\n\t\tif (this.timer) {\n\t\t\tclearTimeout(this.timer);\n\t\t\tthis.timer = null;\n\t\t}\n\n\t\tvar self = this;\n\t\tthis.timer = setTimeout(function() {\n\t\t\tif (self.last_activity + self.timeout + self.activity_timeout\n\t\t\t\t>= new Date().getTime()) {\n\t\t\t\t\tif (on_inactivity) {\n\t\t\t\t\t\ton_inactivity();\n\t\t\t\t\t}\n\t\t\t}\n\t\t}, this.timeout);\n\t};\n\n\tthis.logActivity = function() {\n\t\tthis.last_activity = new Date().getTime();\n\n\t\tif (on_activity) {\n\t\t\ton_activity();\n\t\t}\n\t};\n\n\tthis.onActivity = function() {\n\t\tif (!this.activity_timer) {\n\t\t\tvar self = this;\n\t\t\tthis.activity_timer = setTimeout(function(){\n\t\t\t\tself.logActivity();\n\t\t\t\tself.resetTimer();\n\n\t\t\t\tclearTimeout(self.activity_timer);\n\t\t\t\tself.activity_timer = null;\n\t\t\t}, this.activity_timeout);\n\t\t}\n\t};\n\n\tthis.__init__ = function() {\n\t\tvar self = this;\n\n\t\tif (!events) {\n\t\t\tevents = ['click', 'mousemove', 'scroll'];\n\t\t} else {\n\t\t\tif (typeof events === 'string') {\n\t\t\t\tevents = [events];\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i < events.length; i++) {\n\t\t\tdocument.addEventListener(events[i], function() {\n\t\t\t\tself.onActivity();\n\t\t\t});\n\t\t}\n\t};\n\n\tthis.__init__();\n}\n\nfunction VideoBackgrounds(selector, params) {\n\tthis.elements = selector;\n\n\tif (typeof selector === 'string') {\n\t\tthis.elements = document.querySelectorAll(selector);\n\t}\n\n\tthis.index = {};\n\tthis.re = {};\n\tthis.re.YOUTUBE = /(?:youtube\\.com\\/(?:[^\\/]+\\/.+\\/|(?:v|e(?:mbed)?)\\/|.*[?&]v=)|youtu\\.be\\/)([^\"&?\\/ ]{11})/i;\n\n\tthis.__init__ = function () {\n\t\tfor (var i = 0; i < this.elements.length; i++) {\n\t\t\tvar element = this.elements[i];\n\n\t\t\tvar link = element.getAttribute('data-youtube');\n\t\t\tvar ytid = this.getYTID(link);\n\t\t\tvar uid = this.generateUID(ytid);\n\n\t\t\tvar yb = new YoutubeBackground(element, params, ytid, uid);\n\n\t\t\tif (!uid) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tthis.index[uid] = yb;\n\t\t}\n\n\t\tvar self = this;\n\n\t\tthis.initYTPlayers(function() {\n\t\t\t//TODO: FIX!\n\t\t\tif (params &&\n\t\t\t\t(params.hasOwnProperty('activity_timeout')\n\t\t\t\t|| params.hasOwnProperty('inactivity_timeout'))) {\n\t\t\t\t\tthis.activity_monitor = new ActivityMonitor(function () {\n\t\t\t\t\t\tself.playVideos();\n\t\t\t\t\t}, function() {\n\t\t\t\t\t\tself.pauseVideos();\n\t\t\t\t\t},\n\t\t\t\t\tparams ? params.activity_timeout : null,\n\t\t\t\t\tparams ? params.inactivity_timeout : null,\n\t\t\t\t\t['mousemove', 'scroll']\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t};\n\n\tthis.__init__();\n}\n\nVideoBackgrounds.prototype.getYTID = function (link) {\n\tif (link !== undefined && link !== null) {\n\t\tvar pts = link.match(this.re.YOUTUBE);\n\t\tif (pts && pts.length) {\n\t\t\tthis.re.YOUTUBE.lastIndex = 0; //regex needs a reset in for loops, I always forget this\n\t\t\treturn pts[1];\n\t\t}\n\t}\n\treturn null;\n};\n\nVideoBackgrounds.prototype.generateUID = function (pref) {\n\t//index the instance\n\tfunction getRandomIntInclusive(min, max) {\n\t\tmin = Math.ceil(min);\n\t\tmax = Math.floor(max);\n\t\treturn Math.floor(Math.random() * (max - min + 1)) + min; //The maximum is inclusive and the minimum is inclusive\n\t}\n\n\tvar uid = pref +'-'+ getRandomIntInclusive(0, 9999);\n\twhile (this.index.hasOwnProperty(uid)) {\n\t\tuid = pref +'-'+ getRandomIntInclusive(0, 9999);\n\t}\n\n\treturn uid;\n};\n\nVideoBackgrounds.prototype.pauseVideos = function () {\n\tfor (var k in this.index) {\n\t\tthis.index[k].pause();\n\t}\n};\n\nVideoBackgrounds.prototype.playVideos = function () {\n\tfor (var k in this.index) {\n\t\tthis.index[k].play();\n\t}\n};\n\nVideoBackgrounds.prototype.initYTPlayers = function (callback) {\n\tvar self = this;\n\n\twindow.onYouTubeIframeAPIReady = function () {\n\t\tfor (var k in self.index) {\n\t\t\tself.index[k].initYTPlayer();\n\t\t}\n\n\t\tif (callback) {\n\t\t\tsetTimeout(callback, 100);\n\t\t}\n\t};\n\n\tif (window.hasOwnProperty('YT') && window.YT.loaded) {\n\t\twindow.onYouTubeIframeAPIReady();\n\t}\n};\n\nif (window.hasOwnProperty('jQuery')) {\n\t(function ($) {\n\t    $.fn.youtube_background = function(params) {\n\t        var $this = $(this);\n\t\t\tnew VideoBackgrounds(this, params);\n\t \t\treturn $this;\n\t \t};\n\t})(jQuery);\n}\n"]}